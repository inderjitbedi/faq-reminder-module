"use strict";(self.webpackChunkadmin=self.webpackChunkadmin||[]).push([[395],{6395:(P,d,n)=>{n.r(d),n.d(d,{LoginModule:()=>E});var s,r,u=n(6895),p=n(4859),l=n(9549),e=n(4006),h=n(9938),f=n(7071);(r=s||(s={})).phoneNumberValidator=["",[e.kI.minLength(8),e.kI.maxLength(12),e.kI.required,e.kI.pattern("^[0-9]{8,12}$")]],r.postalCodeValidator=["",[e.kI.minLength(5),e.kI.maxLength(5),e.kI.required]],r.requiredValidator=["",[e.kI.required]],r.nameValidator=["",[e.kI.pattern("^[^-s][a-zA-Z0-9_s-]+$"),e.kI.required]],r.lngValidator=["",[e.kI.required,e.kI.pattern("^-{0,1}((180|180.[0]{1,20}|[0-9]|([0-9][0-9])|([1][0-7][0-9]))|(179|[0-9]|([0-9][0-9])|([1][0-7][0-9]))[.]{1}[0-9]{1,20}){1}$")]],r.latValidator=["",[e.kI.required,e.kI.pattern("^-{0,1}((90|90.[0]{1,20}|[0-9]|[1-8][0-9])|(89|[0-9]|[1-8][0-9])[.]{1}[0-9]{1,20}){1}$")]],r.profileNameValidator={minLength:5,lengthError:{title:"Name Too Short!",subTitle:"Sorry, but name must be more than 4 characters."},pattern:"^[a-zA-Z0-9s]*$",patternError:{title:"Invalid Name!",subTitle:"Sorry, but the name you entered contains special characters."}},r.emailValidator={pattern:"^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,4})$",regex:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,})+$/i,patternError:{title:"Invalid Email Address!",subTitle:"Sorry, but the email you have entered is invalid."}},r.numberValidator={pattern:/^-?(0|[1-9]\d*)?$/,patternError:{title:"Invalid Number!",subTitle:""}},r.urlValidator={pattern:/^(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&=]*)/,patternError:{title:"Invalid web url!",subTitle:""}},r.amountValidator={pattern:/^\d+(\.\d{1,})?$/,patternError:{title:"Invalid amount!",subTitle:""}},r.passwordValidator={minLength:8,required:!0,lengthError:{title:"Password Too Short!",subTitle:"Sorry, but password must be more than 8 characters."},pattern:"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[a-zA-Z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,128}$",patternError:{title:"Invalid Password!",subTitle:"Sorry, but the password you have entered contains special characters."}};var t=n(4650),v=n(3263),I=n(8606),g=n(9299),Z=n(4507),x=n(2510),C=n(9924),m=n(3546),T=n(4144);function A(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}function S(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Invalid email"),t.qZA())}function y(r,i){1&r&&(t.TgZ(0,"mat-error"),t._uU(1,"Required"),t.qZA())}let L=(()=>{class r{constructor(o,a,c,M,N,O,F){this.errorHandlingService=o,this.formBuilder=a,this.apiService=c,this.router=M,this.authGuard=N,this.matcher=O,this.getSetService=F,this.loginForm=this.formBuilder.group({email:["",[e.kI.required,e.kI.pattern(s.emailValidator.pattern)]],password:["",e.kI.required]})}login(){this.loginForm.valid&&this.apiService.post(h.d.signin,this.loginForm.value).subscribe({next:o=>{201===o.statusCode||200===o.statusCode?(localStorage.setItem("auth_token",o.response.auth_token),this.router.navigate([f.g.Pages.DASHBOARD])):this.errorHandlingService.handle(o)},error:o=>{this.errorHandlingService.handle(o)}})}ngOnInit(){}}return r.\u0275fac=function(o){return new(o||r)(t.Y36(v.r),t.Y36(e.qu),t.Y36(I.a),t.Y36(g.F0),t.Y36(Z.a),t.Y36(x.d),t.Y36(C.O))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],decls:17,vars:6,consts:[[3,"formGroup","ngSubmit"],["type","text","matInput","","placeholder","Email","formControlName","email",3,"errorStateMatcher"],[4,"ngIf"],["type","password","matInput","","placeholder","Password","formControlName","password"],[1,"button"],["mat-raised-button","","color","primary",3,"disabled"]],template:function(o,a){1&o&&(t.TgZ(0,"mat-card")(1,"mat-card-title"),t._uU(2,"Admin Login"),t.qZA(),t.TgZ(3,"mat-card-content")(4,"form",0),t.NdJ("ngSubmit",function(){return a.login()}),t.TgZ(5,"p")(6,"mat-form-field"),t._UZ(7,"input",1),t.YNc(8,A,2,0,"mat-error",2),t.YNc(9,S,2,0,"mat-error",2),t.qZA()(),t.TgZ(10,"p")(11,"mat-form-field"),t._UZ(12,"input",3),t.YNc(13,y,2,0,"mat-error",2),t.qZA()(),t.TgZ(14,"div",4)(15,"button",5),t._uU(16,"Login"),t.qZA()()()()()),2&o&&(t.xp6(4),t.Q6J("formGroup",a.loginForm),t.xp6(3),t.Q6J("errorStateMatcher",a.matcher),t.xp6(1),t.Q6J("ngIf",a.loginForm.controls.email.hasError("required")),t.xp6(1),t.Q6J("ngIf",a.loginForm.controls.email.hasError("pattern")),t.xp6(4),t.Q6J("ngIf",a.loginForm.controls.password.hasError("required")),t.xp6(2),t.Q6J("disabled",a.loginForm.invalid))},dependencies:[u.O5,p.lW,m.a8,m.dn,m.n5,l.TO,l.KE,T.Nt,e._Y,e.Fj,e.JJ,e.JL,e.sg,e.u],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.mat-form-field[_ngcontent-%COMP%]{width:100%;min-width:300px}mat-card-title[_ngcontent-%COMP%], mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:center}.error[_ngcontent-%COMP%]{padding:16px;width:300px;color:#fff;background-color:red}.button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.mat-card[_ngcontent-%COMP%]{box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f;padding:20px}.mat-card-title[_ngcontent-%COMP%]{margin-bottom:20px}"]}),r})();var b=n(2222);const z=[{path:"**",component:L}];let E=(()=>{class r{}return r.\u0275fac=function(o){return new(o||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[g.Bz.forChild(z),u.ez,p.ot,b.q,l.lN,e.u5,e.UX]}),r})()}}]);